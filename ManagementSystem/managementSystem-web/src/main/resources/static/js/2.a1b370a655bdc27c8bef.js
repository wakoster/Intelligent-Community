webpackJsonp([2],{I4En:function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s={components:{errorMessage:i("V7I0").a},name:"installationPackageManagement",data:function(){return{updateNow:{name:"chatSystem",type:"正在安装",time:"2022-02-14 10:28",schedule:66},operatingRecord:{code:0,msg:"成功!",total:2,list:[{id:1,name:"chatSystem",type:"安装成功",time:1646809494,info:""},{id:2,name:"chatSystem",type:"安装失败",time:1646809494e3,info:"安装空间不足"}]},installationPackage:{},installationPackageScreeningCondition:{state:null,sign:null}}},mounted:function(){this.getInstallationPackage()},methods:{changeInstallationPackageScreeningCondition:function(t,a){this.installationPackageScreeningCondition.state=t,this.installationPackageScreeningCondition.sign=a},getInstallationPackage:function(){var t=this;this.$axios.get("/installationPackage/getAllInstallationPackage").then(function(a){var i=a.data;0===i.code?t.installationPackage=i:t.showErrorMessage(i.msg)}).catch(function(a){t.showErrorMessage(a)})},sign:function(t,a){var i=this;this.$axios.post("/installationPackage/changeSignInfo",{installationPackageId:t.id,sign:!t.sign}).then(function(t){var s=t.data;0===s.code?i.installationPackage.data[a].sign=!i.installationPackage.data[a].sign:i.showErrorMessage(s.msg)}).catch(function(t){i.showErrorMessage(t)})},on_off_configuration:function(){document.querySelector(".configuration .pop").classList.toggle("active"),document.querySelector(".configuration .mask").classList.toggle("active")},formatDate:function(t){return function(t,a){if(!t)return"";t=t&&13!==t.length?parseInt(t*Math.pow(10,13-t.length)):parseInt(t);var i=new Date(t),s={"M+":i.getMonth()+1,"d+":i.getDate(),"h+":i.getHours(),"m+":i.getMinutes(),"s+":i.getSeconds(),"q+":Math.floor((i.getMonth()+3)/3),S:i.getMilliseconds()};for(var e in/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(i.getFullYear()+"").substr(4-RegExp.$1.length))),s)new RegExp("("+e+")").test(a)&&(a=a.replace(RegExp.$1,1===RegExp.$1.length?s[e]:("00"+s[e]).substr((""+s[e]).length)));return a}(t.toString(),"yyyy-MM-dd hh:mm:ss")},showErrorMessage:function(t){this.$refs.errorMessage.setErrorMessage(t)}}},e={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"installationPackageManagement"},[i("div",{staticClass:"header"},[t._m(0),t._v(" "),i("div",{staticClass:"navigator"},[i("ul",{staticClass:"navList"},[i("li",[i("div",{on:{click:function(a){return t.changeInstallationPackageScreeningCondition(null,null)}}},[t._v("全部")])]),t._v(" "),i("li",[i("div",{on:{click:function(a){return t.changeInstallationPackageScreeningCondition("已安装",null)}}},[t._v("已安装")])]),t._v(" "),i("li",[i("div",{on:{click:function(a){return t.changeInstallationPackageScreeningCondition("未安装",null)}}},[t._v("未安装")])]),t._v(" "),i("li",[i("div",{on:{click:function(a){return t.changeInstallationPackageScreeningCondition(null,!0)}}},[t._v("标记")])]),t._v(" "),t._m(1)])])]),t._v(" "),i("div",{staticClass:"box"},[i("div",{staticClass:"left-box"},[i("div",{staticClass:"installationPackage"},t._l(t.installationPackage.data,function(a,s){return i("div",{key:a.id,staticClass:"installationPackageBlock"},[null!=t.installationPackageScreeningCondition.sign&&t.installationPackageScreeningCondition.sign!=a.sign||null!=t.installationPackageScreeningCondition.state&&t.installationPackageScreeningCondition.state!=a.state?t._e():i("div",{staticClass:"selectBlock"},[i("div",{staticClass:"name",on:{click:t.on_off_configuration}},[t._v(t._s(a.name))]),t._v(" "),i("div",{staticClass:"versions"},[t._v(t._s(a.versions))]),t._v(" "),i("div",{staticClass:"operatingState"},[t._v(t._s(a.operatingState))]),t._v(" "),i("div",{staticClass:"operationBox"},[i("div",{staticClass:"operation",class:{active:"未安装"==a.state}},[t._v("安装")]),t._v(" "),i("div",{staticClass:"operation",class:{active:"已安装"==a.state}},[t._v("卸载")]),t._v(" "),i("div",{staticClass:"operation",class:{active:"未安装"==a.state}},[t._v("删除")]),t._v(" "),i("div",{staticClass:"operation",class:{active:"正常运行"!=a.operatingState}},[t._v("启动")]),t._v(" "),i("div",{staticClass:"operation",class:{active:"正常运行"==a.operatingState}},[t._v("停止")])]),t._v(" "),a.sign?i("div",{staticClass:"sign",on:{click:function(i){return t.sign(a,s)}}},[i("span",{staticClass:"iconfont"},[t._v("")])]):t._e(),t._v(" "),a.sign?t._e():i("div",{staticClass:"sign",on:{click:function(i){return t.sign(a,s)}}},[i("span",{staticClass:"iconfont"},[t._v("")])])])])}),0)]),t._v(" "),i("div",{staticClass:"right-box"},[i("div",{staticClass:"operatingRecord"},[t._m(2),t._v(" "),null!==t.updateNow?i("div",{staticClass:"operatingRecordBlock"},[i("div",{staticClass:"record-type"},[t._v(t._s(t.updateNow.type))]),t._v(" "),i("div",{staticClass:"record-name"},[t._v(t._s(t.updateNow.name))]),t._v(" "),i("div",{staticClass:"container"},[i("div",{staticClass:"skills",style:"width:"+t.updateNow.schedule+"%"},[t._v(t._s(t.updateNow.schedule)+"%")])]),t._v(" "),i("div",{staticClass:"record-time"},[t._v(t._s(t.updateNow.time))])]):t._e(),t._v(" "),t._l(t.operatingRecord.list,function(a){return i("div",{key:a.id,staticClass:"operatingRecordBlock"},[i("div",{staticClass:"record-type"},[t._v(t._s(a.type))]),t._v(" "),i("div",{staticClass:"record-name"},[t._v(t._s(a.name))]),t._v(" "),i("div",{staticClass:"record-info"},[t._v(t._s(a.info))]),t._v(" "),i("div",{staticClass:"record-time"},[t._v(t._s(t.formatDate(a.time)))]),t._v(" "),i("span",{staticClass:"iconfont"},[t._v("")])])}),t._v(" "),i("div",{staticClass:"more",attrs:{onclick:"document.querySelector('.more').classList.add('hidden')"}},[t._v("更多")])],2)]),t._v(" "),i("div",{staticClass:"configuration"},[i("div",{staticClass:"mask"}),t._v(" "),i("div",{staticClass:"pop"},[i("div",{staticClass:"poptitle"},[t._v("新建工单")]),t._v(" "),t._m(3),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),i("button",{staticClass:"button-close",on:{click:t.on_off_configuration}},[t._v("关闭")]),t._v(" "),i("button",{staticClass:"button-verify",on:{click:t.on_off_configuration}},[t._v("确认")])])])]),t._v(" "),i("error-message",{ref:"errorMessage"})],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"blogTitle"},[a("h1",{staticClass:"title"},[this._v("安装管理")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("li",[a("div",{staticStyle:{"padding-top":"10px"}},[a("button",{staticClass:"button"},[this._v("上传")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"operatingRecord-header"},[a("h3",[this._v("安装记录")]),this._v(" "),a("span",{staticClass:"iconfont"},[this._v("")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"formitem"},[a("span",[this._v("*")]),this._v(" "),a("label",[this._v("工单分类")]),this._v(" "),a("div",{staticClass:"inputBox"},[a("input",{attrs:{placeholder:"请输入工单标题"}})])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"formitem"},[a("span",[this._v("*")]),this._v(" "),a("label",[this._v("工单分类")]),this._v(" "),a("div",{staticClass:"inputBox"},[a("input",{attrs:{placeholder:"请输入工单标题"}})])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"formitem"},[a("span",[this._v("*")]),this._v(" "),a("label",[this._v("工单分类")]),this._v(" "),a("div",{staticClass:"inputBox"},[a("input",{attrs:{placeholder:"请输入工单标题"}})])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"formitem"},[a("span",[this._v("*")]),this._v(" "),a("label",[this._v("工单分类")]),this._v(" "),a("div",{staticClass:"inputBox"},[a("input",{attrs:{placeholder:"请输入工单标题"}})])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"formitem"},[a("span",[this._v("*")]),this._v(" "),a("label",[this._v("工单分类")]),this._v(" "),a("div",{staticClass:"inputBox"},[a("input",{attrs:{placeholder:"请输入工单标题"}})])])}]};var n=i("VU/8")(s,e,!1,function(t){i("o7KW")},"data-v-73cf7d51",null);a.default=n.exports},o7KW:function(t,a){}});
//# sourceMappingURL=2.a1b370a655bdc27c8bef.js.map